<!DOCTYPE html>
<html lang="fa" dir="rtl" id="html-tag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bamboo Meme Maker | Pro Edition</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&family=Poppins:wght@400;600;700&family=Vazirmatn:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <button id="lang-btn" class="glass-btn">
        <span class="lang-icon">๐</span>
        <span id="lang-text">EN</span>
    </button>

    <div id="splash-screen" class="screen-layer active">
        <div class="loader">
            <div class="bamboo-stick"></div>
            <div class="bamboo-stick delay-1"></div>
            <div class="bamboo-stick delay-2"></div>
        </div>
        <h2 class="splash-text">BAMBOO PRO</h2>
    </div>

    <div id="landing-page" class="screen-layer glass-panel" style="display: none;">
        <div class="neon-logo">๐</div>
        <h1 id="landing-title">ุจุงูุจู ูู</h1>
        <p id="landing-desc" class="subtitle">ูุณุฎู ุญุฑููโุง ูุฆูู</p>
        
        <div class="menu-buttons">
            <button id="start-app-btn" class="main-btn glass-btn-primary">๐จ ูุฑูุฏ ุจู ฺฉุงุฑุฎุงูู ูู</button>
            <button id="support-btn" class="secondary-btn glass-btn-sec">๐ฌ ูพุดุชุจุงู ุณุฑุน</button>
            <button id="channel-btn" class="secondary-btn glass-btn-sec">๐ข ุฌุงูุนู ููโุณุงุฒูุง</button>
        </div>
    </div>

    <div id="app-container" class="screen-layer glass-panel" style="display: none;">
        <h1 id="title-text" style="font-size: 1.5rem;">ูุฑุงุดฺฏุฑ ูู ๐จ</h1>
        
        <div id="step-1">
            <input type="file" id="image-upload" accept="image/*" style="display: none;">
            
            <button id="upload-btn" class="main-btn glass-btn-green" style="margin-bottom: 20px;">
                ๐ธ ุงูุชุฎุงุจ ุนฺฉุณ ุงุฒ ฺฏุงูุฑ
            </button>

            <div class="search-container">
                <input type="text" id="search-input" placeholder="๐ ุฌุณุชุฌู ูุงูุจ..." class="search-box glass-input">
            </div>

            <div class="gallery glass-gallery" id="template-gallery">
                <p id="loading-text" style="color: var(--neon-green); font-weight: bold; width: 100%;">โณ ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ูุฆููโูุง...</p>
            </div>
            
            <button id="load-more-btn" class="secondary-btn glass-btn-sec hidden" style="width: 100%; margin-top: 10px; border-style: dashed;">โฌ๏ธ ูุดุงูุฏู ุจุดุชุฑ</button>
            <button id="next-btn" class="main-btn glass-btn-primary" disabled style="margin-top: 20px;">ุงุฏุงูู โก๏ธ</button>
        </div>

        <div id="step-2" style="display: none;">
            <div class="canvas-wrapper">
                <canvas id="meme-canvas"></canvas>
            </div>
            
            <div class="floating-toolbar glass-toolbar">
                <button id="add-text-btn" class="tool-btn add">
                    <span class="btn-icon">โ</span>
                    <span class="btn-label" id="add-text-label">ูุชู ุฌุฏุฏ</span>
                </button>
                
                <div id="edit-tools" style="display: none; width: 100%; gap: 10px; justify-content: space-between;">
                    <button id="edit-text-btn" class="tool-btn" style="background: rgba(74, 142, 246, 0.2); border: 1px solid #3b82f6; color: #3b82f6; width: 50%; justify-content: center;">
                        <span class="btn-icon">โ๏ธ ูุฑุงุด</span>
                    </button>
                    <button id="delete-text-btn" class="tool-btn delete" style="width: 50%; margin: 0;">
                        <span class="btn-icon">๐๏ธ ุญุฐู</span></button>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="back-btn" class="secondary-btn glass-btn-sec">โฌ๏ธ ุจุงุฒฺฏุดุช</button>
                <button id="download-btn" class="main-btn glass-btn-primary telegram-btn">โฌ๏ธ ุงุฑุณุงู ููุง</button>
            </div>
            <button id="share-btn" class="share-btn-full glass-btn-outline">๐ ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ูุณุชูู</button>
        </div>
    </div>

    <div id="text-edit-panel" class="bottom-sheet glass-panel" style="transform: translateY(120%);">
        <div class="sheet-handle"></div>
        <h3 id="panel-title" style="color: var(--neon-green);">ูุฑุงุด ูุฆูู ูุชู โ๏ธ</h3>
        
        <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            <textarea id="text-input-field" class="glass-input text-area-main" rows="2" placeholder="ุงูุฌุง ุจููุณุฏ..." style="margin-bottom: 0; width: 75%; background: rgba(0,0,0,0.4);"></textarea>
            <button id="inline-close-btn" class="main-btn glass-btn-primary" style="width: 25%; padding: 0; font-size: 24px; border-radius: 12px;">โ๏ธ</button>
        </div>
        
        <div class="control-group">
            <label id="font-label">ูุงู ูููุช:</label>
            <select id="font-family" class="glass-input">
                <option value="Lalezar">Lalezar (ูู ูุงุฑุณ)</option>
                <option value="Vazirmatn">Vazirmatn (ุงุณุชุงูุฏุงุฑุฏ)</option>
                <option value="Impact">Impact (ูู ุงูฺฏูุณ)</option>
                <option value="Poppins">Poppins (ูุฏุฑู)</option>
            </select>
        </div>
        
        <div class="control-group">
            <label id="size-label">ุงูุฏุงุฒู:</label>
            <input type="range" id="font-size" min="15" max="150" value="40" class="glass-slider">
        </div>

        <div class="color-controls">
            <div class="color-picker-wrapper">
                <input type="color" id="text-color" value="#ffffff">
                <div class="color-icon" id="color-indicator"></div>
            </div>
            <span id="color-lbl">ุฑูฺฏ ูุชู</span>
            
            <div class="color-picker-wrapper">
                <input type="color" id="stroke-color" value="#000000">
                <div class="color-icon" id="stroke-indicator"></div>
            </div>
            <span id="stroke-lbl">ุญุงุดู</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>