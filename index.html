<!DOCTYPE html>
<html lang="fa" dir="rtl" id="html-tag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bamboo Meme Maker | Pro Edition</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&family=Poppins:wght@400;600;700&family=Vazirmatn:wght@400;600;700&display=swap" rel="stylesheet">
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="bg-3d-container">
        <div class="shape-glass blob-1"></div>
        <div class="shape-glass blob-2"></div>
        <div class="shape-glass blob-3"></div>
    </div>

    <button id="lang-btn" class="glass-btn">
        <span class="lang-icon">๐</span>
        <span id="lang-text">EN</span>
    </button>

    <div id="landing-page" class="screen-layer glass-panel">
        <div class="neon-logo">๐</div>
        <h1 id="landing-title">ุจุงูุจู ูู</h1>
        <p id="landing-desc" class="subtitle">ูุณุฎู ุญุฑููโุง ูุฆูู</p>
        
        <div class="menu-buttons">
            <button id="start-app-btn" class="main-btn glass-btn-primary">๐จ ูุฑูุฏ ุจู ฺฉุงุฑุฎุงูู ูู</button>
            <button id="support-btn" class="secondary-btn glass-btn-sec">๐ฌ ูพุดุชุจุงู ุณุฑุน</button>
            <button id="channel-btn" class="secondary-btn glass-btn-sec">๐ข ุฌุงูุนู ููโุณุงุฒูุง</button>
            <button id="sponsor-btn" class="secondary-btn glass-btn-sec" style="border-color: #facc15; color: #facc15;">๐ค ุฏุฑุฎูุงุณุช ุงุณูพุงูุณุฑ</button>
        </div>
    </div>

    <div id="sponsor-modal" class="glass-panel" style="display: none; position: fixed; z-index: 999; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 85%; max-width: 400px; padding: 20px;">
        <h3 style="color: #facc15; text-align: center; margin-bottom: 10px; margin-top: 0;">ุฏุฑุฎูุงุณุช ุงุณูพุงูุณุฑ ๐</h3>
        <p style="font-size: 0.85rem; color: #ccc; text-align: center; margin-bottom: 15px;">ูุดุฎุตุงุช ู ุฏุฑุฎูุงุณุช ุฎูุฏุชูู ุฑู ุจููุณุฏ ุชุง ูุณุชูู ุจุฑุง ูุฏุฑุช ุงุฑุณุงู ุจุดู.</p>
        
        <textarea id="sponsor-text" class="glass-input" rows="4" placeholder="ุณูุงูุ ูู ูุฏุฑ ฺฉุงูุงู X ูุณุชู ู ุฏุฑุฎูุงุณุช ููฺฉุงุฑ ุฏุงุฑู..." style="width: 100%; margin-bottom: 15px; padding: 10px; box-sizing: border-box; resize: none;"></textarea>
        
        <div style="display: flex; gap: 10px;">
            <button id="send-sponsor-btn" class="main-btn glass-btn-primary" style="flex: 1; border-color: #facc15; color: #facc15;">๐ ุงุฑุณุงู ูพุงู</button>
            <button id="close-sponsor-btn" class="secondary-btn glass-btn-sec" style="flex: 1; border-color: #ff4d4d; color: #ff4d4d;">โ ุจุณุชู</button>
        </div>
    </div>

    <div id="app-container" class="screen-layer glass-panel" style="display: none;">
        <h1 id="title-text" style="font-size: 1.5rem;">ูุฑุงุดฺฏุฑ ูู ๐จ</h1>
        
        <div id="step-1">
            <input type="file" id="image-upload" accept="image/*" style="display: none;">
            <button id="upload-btn" class="main-btn glass-btn-green" style="margin-bottom: 20px;">๐ธ ุงูุชุฎุงุจ ุนฺฉุณ ุงุฒ ฺฏุงูุฑ</button>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="๐ ุฌุณุชุฌู ูุงูุจ..." class="search-box glass-input">
            </div>
            <div class="gallery glass-gallery" id="template-gallery"></div>
            <button id="next-btn" class="main-btn glass-btn-primary" disabled style="margin-top: 20px;">ุงุฏุงูู โก๏ธ</button>
        </div>

        <div id="step-2" style="display: none;">
            <div class="canvas-wrapper">
                <canvas id="meme-canvas"></canvas>
            </div>
            <div class="floating-toolbar glass-toolbar"><button id="add-text-btn" class="tool-btn add"><span class="btn-icon">โ</span> ูุชู ุฌุฏุฏ</button>
                <div id="edit-tools" style="display: none; width: 100%; gap: 10px; justify-content: space-between;">
                    <button id="edit-text-btn" class="tool-btn" style="color: #3b82f6;"><span class="btn-icon">โ๏ธ ูุฑุงุด</span></button>
                    <button id="delete-text-btn" class="tool-btn delete"><span class="btn-icon">๐๏ธ ุญุฐู</span></button>
                </div>
            </div>
            <div class="action-buttons">
                <button id="back-btn" class="secondary-btn glass-btn-sec">โฌ๏ธ ุจุงุฒฺฏุดุช</button>
                <button id="download-btn" class="main-btn glass-btn-primary telegram-btn">โฌ๏ธ ุงุฑุณุงู ููุง</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>